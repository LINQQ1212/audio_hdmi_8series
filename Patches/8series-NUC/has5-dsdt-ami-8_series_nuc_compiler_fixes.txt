# Maintained by: toleda for: github.com/toleda/audio_hdmi
# File: has5-dsdt-ami-8_series_nuc_compiler_fixes_v1.0
# Credit: SJ_UnderWater, PJALM
#
# Intel NUC dsdt complier error fixes; allows NUC HDMI audio and other dsdt patches
#
into device label PCI0 code_regex (\s+Zero){2,} remove_matched;
into device label SIO1 code_regex 0x00(,\s+//\s+L) replaceall_matched begin 0x01%1 end;
into device label CIRP code_regex 0x00(,\s+//\s+L) replaceall_matched begin 0x01%1 end;
into_all method label ADBG code_regex (?<=Return\s\(MDBG\))\s+Arg0 remove_matched;
into method label _PS0 parent_label XHC code_regex (?<=\{)(\s+PS0X\s+)(?=\}) remove_matched;
into method label _PS3 parent_label XHC code_regex (?<=\{)(\s+PS3X\s+)(?=\}) remove_matched;
into method label _PS0 parent_label I2C0 code_regex (?<=\{)(\s+PS0X\s+)(?=\}) remove_matched;
into method label _PS3 parent_label I2C0 code_regex (?<=\{)(\s+PS3X\s+)(?=\}) remove_matched;
into method label _PS0 parent_label I2C1 code_regex (?<=\{)(\s+PS0X\s+)(?=\}) remove_matched;
into method label _PS0 parent_label SDHC code_regex (?<=\{)(\s+PS0X\s+)(?=\}) remove_matched;
into method label _PS0 parent_label TPD7 code_regex (?<=\{)(\s+PS0X\s+)(?=\}) remove_matched;
into method label _PS0 parent_label TPD8 code_regex (?<=\{)(\s+PS0X\s+)(?=\}) remove_matched;
into method label _PS0 parent_label WI01 code_regex (?<=\{)(\s+PS0X\s+)(?=\}) remove_matched;
into method label _PS3 parent_label WI01 code_regex (?<=\{)(\s+PS3X\s+)(?=\}) remove_matched;
into_all all code_regex _T_ replaceall_matched begin T_ end;
into_all all code_regex (Acquire\s\(MUT0,\s0x)....\) replace_matched begin Acquire (MUT0, 0xFFFF) end;
into method label _HRV set_label begin HRV end;
into method label PR2S parent_label XHC insert begin Return (Zero) end;
into method label _PS0 parent_label XHC insert begin Return (Zero) end;
into method label _PS3 parent_label XHC insert begin Return (Zero) end;
into method label SPL1 insert begin Return (Zero) end;
into_all all code_regex If\s\(TCMF\)\s\{\} replace_matched begin 
If (TCMF)\n
{\n
    Return (Zero)\n
}\n
end;
into definitionblock code_regex . insert
begin Store ("has5-dsdt-ami-8_series_nuc_compiler_fixes_v1.0 dsdt edits, github.com/toleda", Debug) end
